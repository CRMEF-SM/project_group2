{"ast":null,"code":"var _jsxFileName = \"/opt/lampp/sites/RFID/Front-end/Admin-Panel/src/pages/student/Students.js\",\n    _s = $RefreshSig$();\n\n// @ts-nocheck\nimport React, { useEffect, useState } from \"react\";\nimport axios from 'axios'; // react-bootstrap components\n\nimport { Row, Col, Card, Table, Button, Avatar, Typography, Form, Modal, Input } from \"antd\"; // Images\n\nimport face2 from \"../../assets/images/face-2.jpg\";\nimport { useHistory } from \"react-router-dom\";\nimport { DeleteOutlined, EditOutlined } from \"@ant-design/icons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Title\n} = Typography;\nconst dataTable = [{\n  name: /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Avatar.Group, {\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {\n        className: \"shape-avatar\",\n        shape: \"square\",\n        size: 40,\n        src: face2\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"avatar-info\",\n        children: [/*#__PURE__*/_jsxDEV(Title, {\n          level: 5,\n          children: \"Michael John\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"michael@mail.com\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }, this), \" \"]\n  }, void 0, true),\n  function: /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"author-info\",\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        level: 5,\n        children: \"Manager\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Organization\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this)\n  }, void 0, false),\n  status: /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Button, {\n      type: \"primary\",\n      className: \"tag-primary\",\n      children: \"ONLINE\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this)\n  }, void 0, false),\n  employed: /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ant-employed\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"23/04/18\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#pablo\",\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this)\n  }, void 0, false)\n}];\n\nfunction Tables() {\n  _s();\n\n  const [data, setData] = useState([]);\n  const history = useHistory();\n  const [isEditing, setIsEditing] = useState(false);\n  const [editingStudent, setEditingStudent] = useState(null);\n  const [nom, setNom] = useState('');\n  const [prenom, setPrenom] = useState('');\n  const [niveau, setNiveau] = useState('');\n  const [adresse, setAdresse] = useState(''); // table code start\n\n  const columns = [{\n    title: \"Student\",\n    dataIndex: \"nom\",\n    key: \"nom\",\n    width: \"40%\"\n  }, {\n    title: \"Last name\",\n    dataIndex: \"prenom\",\n    key: \"prenom\",\n    width: \"40%\"\n  }, {\n    title: \"Adress\",\n    dataIndex: \"adresse\",\n    key: \"adresse\",\n    width: \"40%\"\n  }, {\n    title: \"Level\",\n    key: \"niveau\",\n    dataIndex: \"niveau\",\n    width: \"40%\"\n  }, {\n    title: \"Actions\",\n    key: \"actions\",\n    render: record => {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(EditOutlined, {\n          onClick: () => {\n            onEditStudent(record);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DeleteOutlined, {\n          onClick: () => {\n            onDeleteStudent(record);\n          },\n          style: {\n            color: \"red\",\n            marginLeft: 12\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    }\n  }];\n\n  const onEditStudent = async record => {\n    setIsEditing(true);\n    await axios.put(`http://localhost:3004/student/${record.id}`, {\n      nom: nom,\n      prenom: prenom,\n      niveau: niveau,\n      adresse: adresse\n    }).then(function (response) {\n      console.log(response);\n    });\n  };\n\n  const resetEditing = () => {\n    setIsEditing(false);\n    setEditingStudent(null);\n  };\n\n  const getStudent = async () => {\n    await axios.get(`http://localhost:3004/student`).then(response => {\n      const Students = response.data;\n      console.log(\"Students\", Students);\n      setData(Students);\n    });\n  };\n\n  const handleDelete = person => {\n    axios.delete(`http://localhost:3004/Student/${person.id}`).then(response => {});\n  };\n\n  useEffect(() => getStudent(), []);\n\n  const onFinish = async (e, person) => {\n    e.preventDefault();\n    await axios.put(`http://localhost:3004/student/${person}`, {\n      nom: nom,\n      prenom: prenom,\n      niveau: niveau,\n      adresse: adresse\n    }).then(function (response) {\n      console.log(response);\n    });\n  };\n\n  const onFinishFailed = errorInfo => {\n    console.log(\"Failed:\", errorInfo);\n  };\n\n  const onDeleteStudent = record => {\n    Modal.confirm({\n      title: \"Are you sure, you want to delete this student record?\",\n      okText: \"Yes\",\n      okType: \"danger\",\n      onOk: () => {\n        handleDelete(record);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tabled\",\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        gutter: [24, 0],\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          xs: \"24\",\n          xl: 24,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            bordered: false,\n            className: \"criclebox tablespace mb-24\",\n            title: \"Students list\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              xs: \"24\",\n              xl: 6,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                htmlType: \"submit\",\n                style: {\n                  width: \"100%\",\n                  background: \"#5CA89F\",\n                  color: \"white\"\n                },\n                onClick: () => {\n                  history.push('/students/Forum');\n                },\n                children: \"Add new Student\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 16\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 16\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"table-responsive\",\n              children: /*#__PURE__*/_jsxDEV(Table, {\n                columns: columns,\n                dataSource: data,\n                pagination: false,\n                className: \"ant-border-space\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        title: \"Edit Student infos \",\n        visible: isEditing,\n        okText: \"Save\",\n        onCancel: () => {\n          resetEditing();\n        },\n        onOk: () => {\n          setData(pre => {\n            return pre.map(student => {\n              if (student.id === editingStudent.id) {\n                return editingStudent;\n              } else {\n                return student;\n              }\n            });\n          });\n          resetEditing();\n        },\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          onFinish: onFinish,\n          onFinishFailed: onFinishFailed,\n          layout: \"vertical\",\n          className: \"row-col\",\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            justify: \"space-between\",\n            align: \"middle\",\n            gutter: [24, 0],\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              span: 12,\n              md: 12,\n              className: \"col-info\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                className: \"username\",\n                label: \"First name\",\n                name: \"nom\",\n                onChange: e => setNom(e.target.value),\n                rules: [{\n                  required: true,\n                  message: \"Please input your name\"\n                }],\n                children: /*#__PURE__*/_jsxDEV(Input, {\n                  placeholder: \"First name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              span: 12,\n              md: 12,\n              className: \"col-info\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                className: \"username\",\n                label: \"Last name\",\n                name: \"prenom\",\n                onChange: e => setPrenom(e.target.value),\n                rules: [{\n                  required: true,\n                  message: \"Please input your Last name!\"\n                }],\n                children: /*#__PURE__*/_jsxDEV(Input, {\n                  placeholder: \"Last name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              span: 12,\n              md: 12,\n              className: \"col-info\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                className: \"username\",\n                label: \"Level\",\n                name: \"cin\",\n                onChange: e => setNiveau(e.target.value),\n                rules: [{\n                  required: true,\n                  message: \"Please input your Level!\"\n                }],\n                children: /*#__PURE__*/_jsxDEV(Input, {\n                  placeholder: \"Level\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              span: 24,\n              md: 24,\n              className: \"col-info\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                className: \"username\",\n                label: \"Adress\",\n                name: \"adress\",\n                onChange: e => setAdresse(e.target.value),\n                rules: [{\n                  required: true,\n                  message: \"Please input your Adress!\"\n                }],\n                children: /*#__PURE__*/_jsxDEV(Input, {\n                  placeholder: \"Adress\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 20\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              span: 24,\n              md: 24,\n              className: \"col-info\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(Tables, \"+Lnwc3NuFeHwzvSRdjqd7HggNlU=\", false, function () {\n  return [useHistory];\n});\n\n_c = Tables;\nexport default Tables;\n\nvar _c;\n\n$RefreshReg$(_c, \"Tables\");","map":{"version":3,"sources":["/opt/lampp/sites/RFID/Front-end/Admin-Panel/src/pages/student/Students.js"],"names":["React","useEffect","useState","axios","Row","Col","Card","Table","Button","Avatar","Typography","Form","Modal","Input","face2","useHistory","DeleteOutlined","EditOutlined","Title","dataTable","name","function","status","employed","Tables","data","setData","history","isEditing","setIsEditing","editingStudent","setEditingStudent","nom","setNom","prenom","setPrenom","niveau","setNiveau","adresse","setAdresse","columns","title","dataIndex","key","width","render","record","onEditStudent","onDeleteStudent","color","marginLeft","put","id","then","response","console","log","resetEditing","getStudent","get","Students","handleDelete","person","delete","onFinish","e","preventDefault","onFinishFailed","errorInfo","confirm","okText","okType","onOk","background","push","pre","map","student","target","value","required","message"],"mappings":";;;AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;AACA,SACEC,GADF,EAEEC,GAFF,EAGEC,IAHF,EAIEC,KAJF,EAKEC,MALF,EAMEC,MANF,EAOEC,UAPF,EAQEC,IARF,EASEC,KATF,EAUEC,KAVF,QAWO,MAXP,C,CAcA;;AACA,OAAOC,KAAP,MAAkB,gCAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,cAAT,EAAyBC,YAAzB,QAA6C,mBAA7C;;;AAEA,MAAM;AAAEC,EAAAA;AAAF,IAAYR,UAAlB;AAIA,MAAMS,SAAS,GAAG,CAEhB;AACEC,EAAAA,IAAI,eACF;AAAA,4BACE,QAAC,MAAD,CAAQ,KAAR;AAAA,8BACE,QAAC,MAAD;AACE,QAAA,SAAS,EAAC,cADZ;AAEE,QAAA,KAAK,EAAC,QAFR;AAGE,QAAA,IAAI,EAAE,EAHR;AAIE,QAAA,GAAG,EAAEN;AAJP;AAAA;AAAA;AAAA;AAAA,cADF,eAOE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA,gCACE,QAAC,KAAD;AAAO,UAAA,KAAK,EAAE,CAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cAPF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAYkB,GAZlB;AAAA,kBAFJ;AAiBEO,EAAAA,QAAQ,eACN;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA,8BACE,QAAC,KAAD;AAAO,QAAA,KAAK,EAAE,CAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,mBAlBJ;AA0BEC,EAAAA,MAAM,eACJ;AAAA,2BACE,QAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,SAAb;AAAuB,MAAA,SAAS,EAAC,aAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,mBA3BJ;AAiCEC,EAAAA,QAAQ,eACN;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAG,QAAA,IAAI,EAAC,QAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAlCJ,CAFgB,CAAlB;;AAgDA,SAASC,MAAT,GAAkB;AAAA;;AAChB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBxB,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAMyB,OAAO,GAAGZ,UAAU,EAA1B;AACA,QAAM,CAACa,SAAD,EAAYC,YAAZ,IAA4B3B,QAAQ,CAAC,KAAD,CAA1C;AACF,QAAM,CAAC4B,cAAD,EAAiBC,iBAAjB,IAAsC7B,QAAQ,CAAC,IAAD,CAApD;AACA,QAAM,CAAC8B,GAAD,EAAMC,MAAN,IAAgB/B,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAM,CAACgC,MAAD,EAASC,SAAT,IAAsBjC,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACkC,MAAD,EAASC,SAAT,IAAsBnC,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACoC,OAAD,EAAUC,UAAV,IAAwBrC,QAAQ,CAAC,EAAD,CAAtC,CARkB,CAUlB;;AACA,QAAMsC,OAAO,GAAG,CACd;AACEC,IAAAA,KAAK,EAAE,SADT;AAEEC,IAAAA,SAAS,EAAE,KAFb;AAGEC,IAAAA,GAAG,EAAE,KAHP;AAIEC,IAAAA,KAAK,EAAE;AAJT,GADc,EAOd;AACEH,IAAAA,KAAK,EAAE,WADT;AAEEC,IAAAA,SAAS,EAAE,QAFb;AAGEC,IAAAA,GAAG,EAAE,QAHP;AAIEC,IAAAA,KAAK,EAAE;AAJT,GAPc,EAad;AACEH,IAAAA,KAAK,EAAE,QADT;AAEEC,IAAAA,SAAS,EAAE,SAFb;AAGEC,IAAAA,GAAG,EAAE,SAHP;AAIEC,IAAAA,KAAK,EAAE;AAJT,GAbc,EAmBd;AACEH,IAAAA,KAAK,EAAE,OADT;AAEEE,IAAAA,GAAG,EAAE,QAFP;AAGED,IAAAA,SAAS,EAAE,QAHb;AAIEE,IAAAA,KAAK,EAAE;AAJT,GAnBc,EAyBd;AACEH,IAAAA,KAAK,EAAE,SADT;AAEEE,IAAAA,GAAG,EAAE,SAFP;AAGEE,IAAAA,MAAM,EAAGC,MAAD,IAAY;AAClB,0BACE;AAAA,gCACE,QAAC,YAAD;AACE,UAAA,OAAO,EAAE,MAAM;AAEbC,YAAAA,aAAa,CAACD,MAAD,CAAb;AACD;AAJH;AAAA;AAAA;AAAA;AAAA,gBADF,eAOE,QAAC,cAAD;AACE,UAAA,OAAO,EAAE,MAAM;AAEbE,YAAAA,eAAe,CAACF,MAAD,CAAf;AACD,WAJH;AAKE,UAAA,KAAK,EAAE;AAAEG,YAAAA,KAAK,EAAE,KAAT;AAAgBC,YAAAA,UAAU,EAAE;AAA5B;AALT;AAAA;AAAA;AAAA;AAAA,gBAPF;AAAA,sBADF;AAgBE;AApBN,GAzBc,CAAhB;;AAoDA,QAAMH,aAAa,GAAG,MAAOD,MAAP,IAAkB;AACtCjB,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACA,UAAM1B,KAAK,CAACgD,GAAN,CAAW,iCAAgCL,MAAM,CAACM,EAAG,EAArD,EACN;AAAEpB,MAAAA,GAAG,EAAGA,GAAR;AACCE,MAAAA,MAAM,EAAGA,MADV;AAECE,MAAAA,MAAM,EAAGA,MAFV;AAGCE,MAAAA,OAAO,EAAGA;AAHX,KADM,EAKJe,IALI,CAKC,UAAUC,QAAV,EAAoB;AAE1BC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACD,KARM,CAAN;AASD,GAXD;;AAYA,QAAMG,YAAY,GAAG,MAAM;AACzB5B,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACAE,IAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACD,GAHD;;AAMA,QAAM2B,UAAU,GAAG,YAAY;AAC/B,UAAMvD,KAAK,CAACwD,GAAN,CAAW,+BAAX,EACLN,IADK,CACCC,QAAD,IAAa;AACjB,YAAMM,QAAQ,GAAGN,QAAQ,CAAC7B,IAA1B;AACA8B,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuBI,QAAvB;AACAlC,MAAAA,OAAO,CAACkC,QAAD,CAAP;AACD,KALK,CAAN;AAOC,GARD;;AAUA,QAAMC,YAAY,GAAGC,MAAM,IAAI;AAC7B3D,IAAAA,KAAK,CACJ4D,MADD,CACS,iCAAgCD,MAAM,CAACV,EAAG,EADnD,EAECC,IAFD,CAEMC,QAAQ,IAAI,CAEjB,CAJD;AAKD,GAND;;AAQArD,EAAAA,SAAS,CAAC,MAAKyD,UAAU,EAAhB,EAAmB,EAAnB,CAAT;;AAEA,QAAMM,QAAQ,GAAI,OAAOC,CAAP,EAASH,MAAT,KAAoB;AACpCG,IAAAA,CAAC,CAACC,cAAF;AACA,UAAM/D,KAAK,CAACgD,GAAN,CAAW,iCAAgCW,MAAO,EAAlD,EACD;AAAE9B,MAAAA,GAAG,EAAGA,GAAR;AACCE,MAAAA,MAAM,EAAGA,MADV;AAECE,MAAAA,MAAM,EAAGA,MAFV;AAGCE,MAAAA,OAAO,EAAGA;AAHX,KADC,EAKCe,IALD,CAKM,UAAUC,QAAV,EAAoB;AAE1BC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACD,KARC,CAAN;AASD,GAXD;;AAaA,QAAMa,cAAc,GAAIC,SAAD,IAAe;AACpCb,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBY,SAAvB;AACD,GAFD;;AAIA,QAAMpB,eAAe,GAAIF,MAAD,IAAY;AAClClC,IAAAA,KAAK,CAACyD,OAAN,CAAc;AACZ5B,MAAAA,KAAK,EAAE,uDADK;AAEZ6B,MAAAA,MAAM,EAAE,KAFI;AAGZC,MAAAA,MAAM,EAAE,QAHI;AAIZC,MAAAA,IAAI,EAAE,MAAM;AACXX,QAAAA,YAAY,CAACf,MAAD,CAAZ;AACA;AANW,KAAd;AAQD,GATD;;AAWE,sBACE;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA,8BACE,QAAC,GAAD;AAAK,QAAA,MAAM,EAAE,CAAC,EAAD,EAAK,CAAL,CAAb;AAAA,+BACE,QAAC,GAAD;AAAK,UAAA,EAAE,EAAC,IAAR;AAAa,UAAA,EAAE,EAAE,EAAjB;AAAA,iCACE,QAAC,IAAD;AACE,YAAA,QAAQ,EAAE,KADZ;AAEE,YAAA,SAAS,EAAC,4BAFZ;AAGE,YAAA,KAAK,EAAC,eAHR;AAAA,oCAKG,QAAC,GAAD;AAAK,cAAA,EAAE,EAAC,IAAR;AAAa,cAAA,EAAE,EAAE,CAAjB;AAAA,qCACA,QAAC,MAAD;AACO,gBAAA,QAAQ,EAAC,QADhB;AAEO,gBAAA,KAAK,EAAE;AAAEF,kBAAAA,KAAK,EAAE,MAAT;AACP6B,kBAAAA,UAAU,EAAC,SADJ;AAEPxB,kBAAAA,KAAK,EAAE;AAFA,iBAFd;AAKO,gBAAA,OAAO,EAAE,MAAM;AAAEtB,kBAAAA,OAAO,CAAC+C,IAAR,CAAa,iBAAb;AAAiC,iBALzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,oBALH,eAiBE;AAAK,cAAA,SAAS,EAAC,kBAAf;AAAA,qCACE,QAAC,KAAD;AACE,gBAAA,OAAO,EAAElC,OADX;AAEE,gBAAA,UAAU,EAAEf,IAFd;AAGE,gBAAA,UAAU,EAAE,KAHd;AAIE,gBAAA,SAAS,EAAC;AAJZ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAjBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAgCE,QAAC,KAAD;AACE,QAAA,KAAK,EAAC,qBADR;AAEE,QAAA,OAAO,EAAEG,SAFX;AAGE,QAAA,MAAM,EAAC,MAHT;AAIE,QAAA,QAAQ,EAAE,MAAM;AACd6B,UAAAA,YAAY;AACb,SANH;AAOE,QAAA,IAAI,EAAE,MAAM;AACV/B,UAAAA,OAAO,CAAEiD,GAAD,IAAS;AACf,mBAAOA,GAAG,CAACC,GAAJ,CAASC,OAAD,IAAa;AAC1B,kBAAIA,OAAO,CAACzB,EAAR,KAAetB,cAAc,CAACsB,EAAlC,EAAsC;AACpC,uBAAOtB,cAAP;AACD,eAFD,MAEO;AACL,uBAAO+C,OAAP;AACD;AACF,aANM,CAAP;AAOD,WARM,CAAP;AASApB,UAAAA,YAAY;AACb,SAlBH;AAAA,+BAoBD,QAAC,IAAD;AACW,UAAA,QAAQ,EAAEO,QADrB;AAEW,UAAA,cAAc,EAAEG,cAF3B;AAGW,UAAA,MAAM,EAAC,UAHlB;AAIW,UAAA,SAAS,EAAC,SAJrB;AAAA,iCAMK,QAAC,GAAD;AAAK,YAAA,OAAO,EAAC,eAAb;AAA6B,YAAA,KAAK,EAAC,QAAnC;AAA4C,YAAA,MAAM,EAAE,CAAC,EAAD,EAAK,CAAL,CAApD;AAAA,oCACA,QAAC,GAAD;AAAK,cAAA,IAAI,EAAE,EAAX;AAAe,cAAA,EAAE,EAAE,EAAnB;AAAuB,cAAA,SAAS,EAAC,UAAjC;AAAA,qCACM,QAAC,IAAD,CAAM,IAAN;AACE,gBAAA,SAAS,EAAC,UADZ;AAEE,gBAAA,KAAK,EAAC,YAFR;AAGE,gBAAA,IAAI,EAAC,KAHP;AAIE,gBAAA,QAAQ,EAAEF,CAAC,IAAIhC,MAAM,CAACgC,CAAC,CAACa,MAAF,CAASC,KAAV,CAJvB;AAKE,gBAAA,KAAK,EAAE,CACL;AACEC,kBAAAA,QAAQ,EAAE,IADZ;AAEEC,kBAAAA,OAAO,EAAE;AAFX,iBADK,CALT;AAAA,uCAYE,QAAC,KAAD;AAAO,kBAAA,WAAW,EAAC;AAAnB;AAAA;AAAA;AAAA;AAAA;AAZF;AAAA;AAAA;AAAA;AAAA;AADN;AAAA;AAAA;AAAA;AAAA,oBADA,eAiBM,QAAC,GAAD;AAAK,cAAA,IAAI,EAAE,EAAX;AAAe,cAAA,EAAE,EAAE,EAAnB;AAAuB,cAAA,SAAS,EAAC,UAAjC;AAAA,qCACA,QAAC,IAAD,CAAM,IAAN;AACE,gBAAA,SAAS,EAAC,UADZ;AAEE,gBAAA,KAAK,EAAC,WAFR;AAGE,gBAAA,IAAI,EAAC,QAHP;AAIE,gBAAA,QAAQ,EAAEhB,CAAC,IAAI9B,SAAS,CAAC8B,CAAC,CAACa,MAAF,CAASC,KAAV,CAJ1B;AAKE,gBAAA,KAAK,EAAE,CACL;AACEC,kBAAAA,QAAQ,EAAE,IADZ;AAEEC,kBAAAA,OAAO,EAAE;AAFX,iBADK,CALT;AAAA,uCAYE,QAAC,KAAD;AAAO,kBAAA,WAAW,EAAC;AAAnB;AAAA;AAAA;AAAA;AAAA;AAZF;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,oBAjBN,eAmCM,QAAC,GAAD;AAAK,cAAA,IAAI,EAAE,EAAX;AAAe,cAAA,EAAE,EAAE,EAAnB;AAAuB,cAAA,SAAS,EAAC,UAAjC;AAAA,qCACA,QAAC,IAAD,CAAM,IAAN;AACE,gBAAA,SAAS,EAAC,UADZ;AAEE,gBAAA,KAAK,EAAC,OAFR;AAGE,gBAAA,IAAI,EAAC,KAHP;AAIE,gBAAA,QAAQ,EAAEhB,CAAC,IAAI5B,SAAS,CAAC4B,CAAC,CAACa,MAAF,CAASC,KAAV,CAJ1B;AAKE,gBAAA,KAAK,EAAE,CACL;AACEC,kBAAAA,QAAQ,EAAE,IADZ;AAEEC,kBAAAA,OAAO,EAAE;AAFX,iBADK,CALT;AAAA,uCAYE,QAAC,KAAD;AAAO,kBAAA,WAAW,EAAC;AAAnB;AAAA;AAAA;AAAA;AAAA;AAZF;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,oBAnCN,eAsDO,QAAC,GAAD;AAAK,cAAA,IAAI,EAAE,EAAX;AAAe,cAAA,EAAE,EAAE,EAAnB;AAAuB,cAAA,SAAS,EAAC,UAAjC;AAAA,qCACD,QAAC,IAAD,CAAM,IAAN;AACE,gBAAA,SAAS,EAAC,UADZ;AAEE,gBAAA,KAAK,EAAC,QAFR;AAGE,gBAAA,IAAI,EAAC,QAHP;AAIE,gBAAA,QAAQ,EAAEhB,CAAC,IAAI1B,UAAU,CAAC0B,CAAC,CAACa,MAAF,CAASC,KAAV,CAJ3B;AAKE,gBAAA,KAAK,EAAE,CACL;AACEC,kBAAAA,QAAQ,EAAE,IADZ;AAEEC,kBAAAA,OAAO,EAAE;AAFX,iBADK,CALT;AAAA,uCAYE,QAAC,KAAD;AAAO,kBAAA,WAAW,EAAC;AAAnB;AAAA;AAAA;AAAA;AAAA;AAZF;AAAA;AAAA;AAAA;AAAA;AADC;AAAA;AAAA;AAAA;AAAA,oBAtDP,eAsEM,QAAC,GAAD;AAAK,cAAA,IAAI,EAAE,EAAX;AAAe,cAAA,EAAE,EAAE,EAAnB;AAAuB,cAAA,SAAS,EAAC;AAAjC;AAAA;AAAA;AAAA;AAAA,oBAtEN;AAAA;AAAA;AAAA;AAAA;AAAA;AANL;AAAA;AAAA;AAAA;AAAA;AApBC;AAAA;AAAA;AAAA;AAAA,cAhCF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,mBADF;AA2ID;;GA5QQzD,M;UAEST,U;;;KAFTS,M;AA8QT,eAAeA,MAAf","sourcesContent":["// @ts-nocheck\nimport React, { useEffect, useState } from \"react\";\nimport axios from 'axios';\n// react-bootstrap components\nimport {\n  Row,\n  Col,\n  Card,\n  Table,\n  Button,\n  Avatar,\n  Typography,\n  Form,\n  Modal,\n  Input,\n} from \"antd\";\n\n\n// Images\nimport face2 from \"../../assets/images/face-2.jpg\";\nimport { useHistory } from \"react-router-dom\";\nimport { DeleteOutlined, EditOutlined } from \"@ant-design/icons\";\n\nconst { Title } = Typography;\n\n\n\nconst dataTable = [ \n  \n  {\n    name: (\n      <>\n        <Avatar.Group>\n          <Avatar\n            className=\"shape-avatar\"\n            shape=\"square\"\n            size={40}\n            src={face2}\n          ></Avatar>\n          <div className=\"avatar-info\">\n            <Title level={5}>Michael John</Title>\n            <p>michael@mail.com</p>\n          </div>\n        </Avatar.Group>{\" \"}\n      </>\n    ),\n    function: (\n      <>\n        <div className=\"author-info\">\n          <Title level={5}>Manager</Title>\n          <p>Organization</p>\n        </div>\n      </>\n    ),\n\n    status: (\n      <>\n        <Button type=\"primary\" className=\"tag-primary\">\n          ONLINE\n        </Button>\n      </>\n    ),\n    employed: (\n      <>\n        <div className=\"ant-employed\">\n          <span>23/04/18</span>\n          <a href=\"#pablo\">Edit</a>\n        </div>\n      </>\n    ),\n  },\n\n\n]   \n\nfunction Tables() {\n  const [data, setData] = useState([]);\n  const history = useHistory();\n  const [isEditing, setIsEditing] = useState(false);\nconst [editingStudent, setEditingStudent] = useState(null);\nconst [nom, setNom] = useState('');\nconst [prenom, setPrenom] = useState('');\nconst [niveau, setNiveau] = useState('');\nconst [adresse, setAdresse] = useState('');\n\n// table code start\nconst columns = [\n  {\n    title: \"Student\",\n    dataIndex: \"nom\",\n    key: \"nom\",\n    width: \"40%\",\n  },\n  {\n    title: \"Last name\",\n    dataIndex: \"prenom\",\n    key: \"prenom\",\n    width: \"40%\",\n  },\n  {\n    title: \"Adress\",\n    dataIndex: \"adresse\",\n    key: \"adresse\",\n    width: \"40%\",\n  },\n  {\n    title: \"Level\",\n    key: \"niveau\",\n    dataIndex: \"niveau\",\n    width: \"40%\",\n  },\n  {\n    title: \"Actions\",\n    key: \"actions\",\n    render: (record) => {\n      return (\n        <>\n          <EditOutlined\n            onClick={() => {\n\n              onEditStudent(record);\n            }}\n          />\n          <DeleteOutlined\n            onClick={() => {\n\n              onDeleteStudent(record);\n            }}\n            style={{ color: \"red\", marginLeft: 12 }}\n          />\n        </>\n      )}\n          }\n];\n\n\n\n\nconst onEditStudent = async (record) => {\n  setIsEditing(true);\n  await axios.put(`http://localhost:3004/student/${record.id}`,\n  { nom : nom,\n   prenom : prenom,\n   niveau : niveau,\n   adresse : adresse}\n ) .then(function (response) {\n   \n   console.log(response);\n })\n};\nconst resetEditing = () => {\n  setIsEditing(false);\n  setEditingStudent(null);\n};\n\n\nconst getStudent = async () => {\nawait axios.get(`http://localhost:3004/student`)\n.then((response) =>{\n  const Students = response.data;\n  console.log(\"Students\",Students);\n  setData(Students );\n} );\n\n}\n\nconst handleDelete = person => {\n  axios\n  .delete(`http://localhost:3004/Student/${person.id}`)\n  .then(response => {\n  \n  });  \n}\n\nuseEffect(()=> getStudent(),[]);\n\nconst onFinish  = async (e,person) => {\n  e.preventDefault();\n  await axios.put(`http://localhost:3004/student/${person}`,\n       { nom : nom,\n        prenom : prenom,\n        niveau : niveau,\n        adresse : adresse}\n      ) .then(function (response) {\n        \n        console.log(response);\n      })\n}\n\nconst onFinishFailed = (errorInfo) => {\n  console.log(\"Failed:\", errorInfo);\n};\n\nconst onDeleteStudent = (record) => {\n  Modal.confirm({\n    title: \"Are you sure, you want to delete this student record?\",\n    okText: \"Yes\",\n    okType: \"danger\",\n    onOk: () => {\n     handleDelete(record);\n    },\n  });\n};\n\n  return (\n    <>\n      <div className=\"tabled\">\n        <Row gutter={[24, 0]}>\n          <Col xs=\"24\" xl={24}>\n            <Card\n              bordered={false}\n              className=\"criclebox tablespace mb-24\"\n              title=\"Students list\"\n            >\n               <Col xs=\"24\" xl={6}>\n               <Button\n                      htmlType=\"submit\"\n                      style={{ width: \"100%\" ,\n                      background:\"#5CA89F\" ,\n                      color: \"white\"}}\n                      onClick={() => { history.push('/students/Forum') }}\n                    \n                    >\n                      Add new Student\n                    </Button>\n              </Col>\n              <div className=\"table-responsive\">\n                <Table\n                  columns={columns}\n                  dataSource={data}\n                  pagination={false}\n                  className=\"ant-border-space\"\n                />\n              </div>\n            </Card>\n\n          </Col>\n        </Row>\n        <Modal\n          title=\"Edit Student infos \"\n          visible={isEditing}\n          okText=\"Save\"\n          onCancel={() => {\n            resetEditing();\n          }}\n          onOk={() => {\n            setData((pre) => {\n              return pre.map((student) => {\n                if (student.id === editingStudent.id) {\n                  return editingStudent;\n                } else {\n                  return student;\n                }\n              });\n            });\n            resetEditing();\n          }}\n        >\n       <Form\n                  onFinish={onFinish}\n                  onFinishFailed={onFinishFailed}\n                  layout=\"vertical\"\n                  className=\"row-col\"\n                >\n            <Row justify=\"space-between\" align=\"middle\" gutter={[24, 0]}>\n            <Col span={12} md={12} className=\"col-info\">\n                  <Form.Item\n                    className=\"username\"\n                    label=\"First name\"\n                    name=\"nom\"\n                    onChange={e => setNom(e.target.value)}\n                    rules={[\n                      {\n                        required: true,\n                        message: \"Please input your name\",\n                      },\n                    ]}\n                  >\n                    <Input placeholder=\"First name\" />\n                  </Form.Item>\n                  </Col>\n                  <Col span={12} md={12} className=\"col-info\">\n                  <Form.Item\n                    className=\"username\"\n                    label=\"Last name\"\n                    name=\"prenom\"\n                    onChange={e => setPrenom(e.target.value)}\n                    rules={[\n                      {\n                        required: true,\n                        message: \"Please input your Last name!\",\n                      },\n                    ]}\n                  >\n                    <Input placeholder=\"Last name\" />\n                  </Form.Item>\n                  </Col>\n\n\n                  <Col span={12} md={12} className=\"col-info\">\n                  <Form.Item\n                    className=\"username\"\n                    label=\"Level\"\n                    name=\"cin\"\n                    onChange={e => setNiveau(e.target.value)}\n                    rules={[\n                      {\n                        required: true,\n                        message: \"Please input your Level!\",\n                      },\n                    ]}\n                  >\n                    <Input placeholder=\"Level\" />\n                  </Form.Item>\n                   </Col>\n\n\n\n                   <Col span={24} md={24} className=\"col-info\">\n                  <Form.Item\n                    className=\"username\"\n                    label=\"Adress\"\n                    name=\"adress\"\n                    onChange={e => setAdresse(e.target.value)}\n                    rules={[\n                      {\n                        required: true,\n                        message: \"Please input your Adress!\",\n                      },\n                    ]}\n                  >\n                    <Input placeholder=\"Adress\" />\n                  </Form.Item>\n                  </Col>\n                  <Col span={24} md={24} className=\"col-info\">\n                 \n                  </Col>\n                </Row>\n                </Form>\n        </Modal>\n      </div>\n    </>\n  );\n}\n\nexport default Tables;"]},"metadata":{},"sourceType":"module"}